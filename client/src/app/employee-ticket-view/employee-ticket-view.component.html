<div class="container">
  <div class="jumbotron card">
    <h2>View Past Tickets </h2>
    <!--Need to modify-->
  <form (ngSubmit)="filtering(f)" #f="ngForm">
      <label for="statusFilter">Filter requests by ticket status</label>
      <select name="statusFilter" id="statusFilter" ngModel>
        <option value="none">none</option>
        <option value="pending">Pending</option>
        <option value="approved">Approved</option>
        <option value="denied">Denied</option>
      </select>
      <button type="submit">Search</button>
  </form>
      <table class="table table-striped table-hover">
          <thead class="table-light">
              <tr>
                  <th>ticket id</th>
                  <th>type</th>
                  <th>description</th>
                  <th>amount</th>
                  <th>time</th>
                  <th>status</th>
                  <th></th>
              </tr>
          </thead>
          <tbody>
            <ng-container  *ngIf="filter === 'none'; else other">
                <tr *ngFor="let req of requests">
                    <td>{{req.id}}</td>
                    <td>{{req.type}}</td>
                    <td>{{req.description}}</td>
                    <td>$ {{req.amount.toFixed(2)}}</td>
                    <td>{{formatDate(req.time)}}</td>
                    <td>{{req.status}}</td>
                </tr>  
            </ng-container>       
        </tbody>
      </table>
  </div>

  <ng-template #other>
    <ng-container *ngFor="let req of requests">
        <tr *ngIf="req.status === filter">
                <td>{{req.id}}</td>
                <td>{{req.type}}</td>
                <td>{{req.description}}</td>
                <td>$ {{req.amount.toFixed(2)}}</td>
                <td>{{formatDate(req.time)}}</td>
                <td>{{req.status}}</td>
        </tr>
    </ng-container>
  </ng-template>